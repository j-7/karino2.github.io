---
title: "PRMLのAppendix_D"
date: 2017-10-01 08:55:44
---

次のPRML勉強会は10章の変分ベイズなので、その予習をしているのだが、そこでAppendix Dを読む必要が出てきたのでちゃんと読む。

ここにはノート的な事と雑談的なつぶやきをごっちゃに書いていく。

# Appendix D. Caluculus of Variations

変分ベイズの為には変分計算が出て来るのだろうから、Appendix D.の変分のあたりを先に読む。

学生の頃とか、変分計算は良くやってたはずなのだが、今思うと自分は変分とは何かを理解してなかった。微分と違いが分からないまま計算してた気がする。

最近はGANの台頭で関数空間を探索する必要性が出てきたので、この辺の話は結構身近になった。

今読むと、「なるほどぉ〜」と腑に落ちる感じが昔とは段違い。

## D.6 はどこから出てくるか？

突然出てきたD.6の積分の部分が分からない。

![](https://i.imgur.com/stydrjm.jpg)

少しググってたら以下のページが分かりやすいね。

[変分法1（物理のかぎしっぽ）](http://hooktail.sub.jp/mathInPhys/variations1/)



ふむ、ポイントとなるのは、イプシロンでの微分がゼロになる、という事だよな。

ちょっとこの意味について考えてみたい。

通常の微分では、xをちょっと変化させた時にyが変化する量を求めて、その比が微分になるよな。

![](https://i.imgur.com/egSHysA.png)

で、変分では関数形をいじるのだから、y全体をちょっと変化させる。

ちょっと変化させるの定義は、任意の関数イェータに対して、それを微少量イプシロンを掛けて足す、で良いか。

イェータは別に微少量じゃない、任意の形の関数形。
で、そこに微少量を掛けて足せば、微少の関数形の変化が表せる。

![](https://i.imgur.com/jbYctpP.jpg)

イェータがいろんな関数の形を取りうるところがちょっと難しいけれど、イメージ的にはそれは有界で、だから最大値みたいなのがあるのを考えると分かりやすい。

そこにイプシロンを掛ければ微少な変化が作れる。イェータをいろいろ取れば、任意の微少変化が作れるだろう。

この時、関数の微分でのデルタxに対応するのがイプシロン イェータになるのだろう。

![](https://i.imgur.com/AZ2mkko.png)

ちょっと分かってきたぞ。イェータはなんというか、動かす時の形だよな。

で、その形に沿ってどれだけ動かすか、という度合いはイプシロンの方が担当する。

で、形の方は固定されてると考えて、イプシロンだけ動かした時の事を考えて、そのあとイェータを任意の物と考え直せば、微分の拡張のような物が定義出来る。

![](https://i.imgur.com/UJBKPrS.jpg)

これが任意の関数形で極値を持つ、という事は、イプシロンでの微分がゼロ、となる訳か。

### 変分の定義と式D.3を考え直す

ここでFがGの積分で表されてる場合を考える。

![](https://i.imgur.com/tJMXgKA.png)

この時、Fの極値を与えるようなyの形を求めよう。

yを少し動かした時の変分がゼロ、となるのが条件だろう。

本当は全てのxで成り立つ、という事で積分が要るだろうが（それこそがD.3か）、インフォーマルには以下みたいに定義出来るはずだ。

![](https://i.imgur.com/oeAf8j9.png)

ああ、これはまさにD.3を移項したものか。理解した。

つまりFのyによる変分とは、任意のイェータに関してD.3が成り立つような極値という事か。

### Gの積分で表される場合の変分の計算（D.6の導出）

つまり、こういう感じじゃないか？

![](https://i.imgur.com/MNetwOE.png)

お、これはまさにD.6だ。結構ちゃんと理解したんじゃね？

---

ここから先、部分積分して境界条件からオイラーラグランジュ出す所は特にわからん所は無いから割愛。
