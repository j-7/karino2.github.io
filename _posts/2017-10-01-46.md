---
title: "ソースコード読みアプリ、近況"
date: 2017-10-01 03:23:48
---

[github:ZipSourceCodeReading](https://github.com/karino2/ZipSourceCodeReading)は、ドッグフードしてて我慢ならない所から順番になおしていったら、一応自分は使えるくらいの所までは来た。

インデクシング周辺は癖がある、というかいろいろ変なのだが、インデックスファイルが出来てしまえばそこから先は関係無いので、インデクシングの所はちょっと注意しながら使っている。
あと、いまいち見た目が地味なので、まだPlayに公開する気が起こらないが、
その辺の普通のユーザーに使えるようにする作業がいまいち気が乗らないので、しばらく自分で使ってみよう、と考えている。

興味がある人居たら、上記コードから勝手にビルドして試してみてもらえると嬉しいです。
個人的にはなかなか革命的なアプリと思っているけれど。

現状読んでいるコードは、7割くらいはgithubからDownload as zipでブラウザからダウンロードした物で、残り3割くらいはちょこちょこPCで抜き出したりしてzipした物を読んでます。
この辺どちらも行けるのは結構良いと思っている。

自分でzip作ったのだと、例えばAOSPのcore下とか、javaとxmlだけ引っこ抜いてきてzipにしている。これはアプリどうこう、というよりはSDの事情で。
あとConstraintLayoutとかは単体での取得の仕方がわからなかったのでばこっと持ってきてから関係ありそうな所だけ抜き出したzipを作って読んでます。

zipでダウンロードして見ている物というと、

- Tensorflow
- 旧版のjota
- Octroid
- support libraryのdesignの奴


というあたり。
Tensorflowは結構真面目にこのアプリで読んでます。
やっぱPCつけなくて良いのは気楽でいいですね。
PCとタブレットで両方読める状態のコードは、だいたいタブレットで読むようになった。

当初は一応8インチタブレットでキーボードで読む事を想定していたのだけれど、現実的にはタッチだけで読む事が意外と多い。
するとファイル内を検索して移動したい時にいちいちソフトキーとか出てくるのかったるいので、この辺は工夫の余地があるなぁ、と思っている。
タッチオペレーション中心で作りたいが、面倒なので後回しかなぁ。

TextViewはsize変更すると凄く無駄な計算がいろいろ走るので、なお一層面倒な事になっている。
現状はソフトキーが出てもリサイズしないようにして凌いでいるが、ソフトキーの下にいろいろ隠れて不便。

やっぱり最終的にはTextViewは自作しないと駄目だなぁ、と思いながらjotaのコードとか読んでます。jotaはTextView自作してるんだが、結構短いコードなので、これくらいなら自分もやっても良いかなぁ、とは思う。


現在はそこそこの規模のコードも読んでいるが、意外とサクサク読めて、思ったよりもチューニングとかなしでも頑張れている。
インデクシング周辺は遅いが、まぁ一回だからいいか、という事で。

画面サイズ的な物も、8インチタブレットだと結構十分読める。
そこが一番の懸念点だったので、使ってみて問題なかったのは収穫である。

当初は要らないと思ってたが、Octdroidのシンタックスハイライトが綺麗なので、最近はシンタックスハイライト欲しいなぁ、という側に傾いている。
googleのcode prettifyみたいなので割と簡単に出来そうなので。

でもそこをやるなら自作したTextViewでやりたいなぁ、という思いもあってちょっと悩ましい。
まぁSpannableは再利用出来るから別にTextViewは今のままでもこの辺の作業は出来るとは思うが。

全体的に、今すぐやらないと我慢出来ない！という事はだいたい潰れたが、やらなきゃいけない事はちょっと手がかかるのが増えてきた。

----

雑感として、タブレットでコード読むのは思ったよりlife changingですね。
カフェで本を読むのと同列にソースコードを読むようになるので、
なんか自分の中で読書みたいなカテゴリになる。

読むかどうか分からない物もとりあえずzip突っ込んでおいてインデクシングしておくと、暇な時とかにちょろっと読んだりする。

ちゃんとアプリの完成度上げたら、結構流行るんじゃないかな？これ。
