---
title: "ソース読みアプリ、なんとかカラーリングも終了"
date: 2017-10-06 15:10:37
---

4日間のひきこもりコーディングの結果、カラーリングも終わり、副作用として行番号がついたりでかいファイルの時に高速になったり、長押しのメニューで直接検索出来たりするようになった。

なかなかきつかったぜ…  
でも出来た物の満足度は相当高い。
これは良いものになりそうだ。

Spannableは相当いろんな所で使っていた為、自分の実装は凄くいろいろ決め打ちなきわどい物になってしまった。
汎用的には使えないねぇ。

ただ、その分リードオンリーで色つけのみなら、めちゃくちゃ早い。
そうそう、やっぱこの位の速度では動くはずだよね、という速度で動く。素晴らしい。

いやぁ、本書いてた時とかにも、チェック用になんかページャー欲しいなぁ、とか思ってたが、本の原稿のマークダウンの長さだと標準のTextViewは重くてねぇ…

今なら爆速ページャーが作れるぜ！（必要にならないと作らないけど）

自分的にはいつか作りたいなぁ、と思ってたViewとして、

1. 長いテキスト表示用のView
2. 数式表示のView（出来たらDOMも）
3. 高速Markdown表示View

というのは欲しいと長らく思っていた。  
今回、最初の一つをついに片付けた事になる。

そうそう、4日くらい頑張れば作れるんだよなぁ、よしよし、って気分だ。

そろそろリリースしないのか？という気もするが…

いつまで経ってもインデクシングの所のUIが酷い手抜きで分かりにくいままなんだよなぁ。
ここは毎回一回しか使わない所だから、あんまドッグフードしてても直す気が起こらないんだよなぁ。

ここ直してアイコン書いたらplayにリリースしても良いと思ってるのだが…

まぁこのアプリ使う奴ならソース持っていってビルドすりゃいいか、という気はしている、というのもある。

それにしてもAndroidでソースコード読みたい、と思う奴は世の中にたくさん居るだろうが、トリグラムのインデクサ（作ってくれたのは@dagezi氏だが）から正規表現のトリグラム分解、カスタムのTextViewまでやる奴はそうはいまい。

実際にでかいコード普段から読んでる奴っぽい実装の順番で、自画自賛してしまうぜ。
